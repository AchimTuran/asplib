@PACKAGE_INIT@

include(${CMAKE_CURRENT_LIST_DIR}/@PROJECT_NAME@-targets.cmake)

#set_and_check(foo_INCLUDE_DIRS "@PACKAGE_INCLUDE_DIRS@")

#  asplib_INCLUDE_DIRS - header directories with which to compile
#  asplib_LIBRARIES    - names of the libraries with which to link

set(_asplib_supported_components "@ASPLIB_SUPPORTED_COMPONENTS@")

# TODO: components
set(asplib_LIBRARIES asplib::SpectrumVisProcessor asplib::FFT)

if(NOT TARGET KissFFT::KissFFT)
  add_library(KissFFT::KissFFT UNKNOWN IMPORTED)
  set_target_properties(KissFFT::KissFFT PROPERTIES
                                         IMPORTED_LOCATION "@KISS_FFT_LIBRARY@")
endif()

#set(linked_components "")

#foreach(_comp ${asplib_FIND_COMPONENTS})
#  message(STATUS "_comp=${_comp}:${asplib_FIND_REQUIRED_${_comp}}")

#  list(FIND linked_components "${_comp}" _idx)
#  if (${_idx} LESS 0)
#    # only add components that which are not already in the list
#    list(FIND _asplib_supported_components "${_comp}" _index)
#    if (${_index} LESS 0 AND ${asplib_FIND_REQUIRED_${_comp}})
#      # only set raise an error if asplib component is required
#      message(FATAL_ERROR "Requested component ${_comp} is unsupported!")
#      set(asplib_NOTFOUND_MESSAGE "Requested component ${_comp} is unsupported!")
#      set(asplib_FOUND FALSE)
#    endif()

#    if(WIN32)
#      set (asplib_LIBRARY "@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/asplib_${_comp}.lib")
#    else(WIN32)
#      list(APPEND asplib_LIBRARIES "-L@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@ -lasplib_${_comp}")
#    endif(WIN32)

#    if(${_comp} MATCHES "SpectrumVisProcessor")
#      if(WIN32)
#        set (asplib_LIBRARY "@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/asplib_FFT.lib")
#        set (asplib_LIBRARY "@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/KissFFT.lib")
#      else()
#        list(APPEND asplib_LIBRARIES "-L@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@ -lasplib_FFT")
#        list(APPEND asplib_LIBRARIES "-L@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@ -lKissFFT")
#      endif()
#      list(APPEND linked_components "FFT")
#    elseif(${_comp} MATCHES "FFT")
#      if(WIN32)
#        set (asplib_LIBRARY "@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/KissFFT.lib")
#      else()
#        list(APPEND asplib_LIBRARIES "-L@CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@ -lKissFFT")
#      endif()
#    endif()

#    list(APPEND linked_components "${_comp}")
#  endif()
#endforeach()

#message(STATUS "asplib_LIBRARIES=${asplib_LIBRARIES}")
#message(STATUS "linked_components=${linked_components}")

# add the library as a target, so that other things in the project including
# this file may depend on it and get rebuild if this library changes.
# add_library(asplib UNKNOWN IMPORTED)
# set_property(TARGET asplib PROPERTY IMPORTED_LOCATION "${asplib_LIBRARY}")
